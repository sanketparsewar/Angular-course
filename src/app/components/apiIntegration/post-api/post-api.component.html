<div class="header mt-2 bg-secondary p-3 text-white mb-3">
    <h1>API Integration - Post API</h1>
    <p>Create Department, Department List, Edit, Update and Delete</p>
</div>

<div class="row">
    <!-- Department List Section -->
    <div class="col-8 border-1">
        <table class="table table-bordered rounded">
            <thead class="table-secondary">
                <tr>
                    <th colspan="4">Department List</th>
                </tr>
                <tr>
                    <th>Sr No.</th>
                    <th>Name</th>
                    <th>Logo Url</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                @for(item of departmentList;track $index){
                <tr>
                    <td>{{ $index + 1 }}</td> <!-- Using the index for numbering -->
                    <td>{{ item.departmentName }}</td>
                    <td>{{ item.departmentLogo }}</td>
                    <td class="d-flex justify-content-evenly">
                        <button class="btn btn-info" (click)="edit(item)">edit</button>
                        <button class="btn btn-danger" (click)="onDelete(item.departmentId)">Delete</button>
                        </td>
                </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- New Department Section -->
    <div class="col-4">
        <div class="row border bg-secondary text-white rounded-top p-2">
            <p>New Department</p>
        </div>
        <div class="row border rounded-bottom p-2">
            <div class="m-1 col-12">
                <label for="departmentName">Department Name</label>
                <input type="text" id="departmentName" [(ngModel)]="depObj.departmentName" placeholder="Enter Name"
                    class="form-control mb-2">

                <label for="departmentLogo">Department Logo</label>
                <input type="text" id="departmentLogo" [(ngModel)]="depObj.departmentLogo" placeholder="Enter logo Url"
                    class="form-control mb-2">
            </div>
            <div class="mt-3 mb-3 d-flex justify-content-evenly">
                <button class="btn btn-secondary" (click)="onReset()">Reset</button>
                <!-- {{depObj | json}} -->
                @if(depObj.departmentId==0){
                    <button class="btn btn-success" (click)="onSave()">Save</button>
                }
                @else{
                    <button class="btn btn-warning" (click)="onUpdate()">update</button>
                }
            </div>
        </div>
    </div>
</div>
